\documentclass[12pt,a4paper]{report}

% IEEE-style packages
\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{times}
\usepackage{graphicx}
\usepackage{amsmath}
\usepackage{amssymb}
\usepackage{booktabs}
\usepackage{multirow}
\usepackage{array}
\usepackage{tabularx}
\usepackage{longtable}
\usepackage{float}
\usepackage{placeins}
\usepackage{caption}
\usepackage{subcaption}
\usepackage{hyperref}
\usepackage{xcolor}
\usepackage{listings}
\usepackage{tikz}
\usetikzlibrary{positioning, arrows.meta, shapes.geometric}

% Page layout
\usepackage[margin=1in]{geometry}
\usepackage{setspace}
\onehalfspacing

% Code listing style
\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},
    commentstyle=\color{codegreen},
    keywordstyle=\color{blue},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,
    breaklines=true,
    captionpos=b,
    keepspaces=true,
    numbers=left,
    numbersep=5pt,
    showspaces=false,
    showstringspaces=false,
    showtabs=false,
    tabsize=2,
    frame=single,
    framesep=5pt,
    xleftmargin=15pt,
    xrightmargin=5pt
}
\lstset{style=mystyle}

% Define JavaScript language for listings
\lstdefinelanguage{JavaScript}{
    keywords={typeof, new, true, false, catch, function, return, null, catch, switch, var, let, const, if, in, while, do, else, case, break, async, await, try, throw, export, import, class, extends, interface, type},
    keywordstyle=\color{blue}\bfseries,
    ndkeywords={boolean, number, string, void, any, Promise, Array, Object},
    ndkeywordstyle=\color{codepurple}\bfseries,
    identifierstyle=\color{black},
    sensitive=true,
    comment=[l]{//},
    morecomment=[s]{/*}{*/},
    commentstyle=\color{codegreen}\ttfamily,
    stringstyle=\color{red}\ttfamily,
    morestring=[b]',
    morestring=[b]",
    morestring=[b]`
}

% Checkmark symbol
\usepackage{pifont}
\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{55}}
\renewcommand{\checkmark}{\cmark}

% Header/Footer
\usepackage{fancyhdr}
\pagestyle{fancy}
\fancyhf{}
\fancyhead[L]{\leftmark}
\fancyhead[R]{\thepage}
\renewcommand{\headrulewidth}{0.4pt}

% Set chapter counter to start from 4
\setcounter{chapter}{3}

% Title information
\title{
    \textbf{Pixelar: An AI-Powered Game Asset Generation Platform}\\
    \vspace{0.5cm}
    \large Chapters 4-5: Implementation and Results
}
\author{
    Final Year Project Report\\
    \vspace{0.3cm}
    Department of Computer Science
}
\date{\today}

\begin{document}

% Title page
\maketitle

% Table of contents
\tableofcontents
\listoffigures
\listoftables
\lstlistoflistings

\newpage

% Include chapters 4 and 5 only
\input{chapter4_implementation}
\input{chapter5_results}

% References
\begin{thebibliography}{99}

\bibitem{replicate2024}
Replicate, Inc., ``Replicate API Documentation,'' 2024. [Online]. Available: https://replicate.com/docs

\bibitem{gemini2024}
Google, ``Gemini API Developer Guide,'' 2024. [Online]. Available: https://ai.google.dev/docs

\bibitem{nextjs2024}
Vercel, ``Next.js Documentation,'' Version 15.5, 2024. [Online]. Available: https://nextjs.org/docs

\bibitem{firebase2024}
Google, ``Firebase Documentation,'' 2024. [Online]. Available: https://firebase.google.com/docs

\bibitem{typescript2024}
Microsoft, ``TypeScript Documentation,'' Version 5.x, 2024. [Online]. Available: https://www.typescriptlang.org/docs

\bibitem{vercelblob2024}
Vercel, ``Vercel Blob Storage Documentation,'' 2024. [Online]. Available: https://vercel.com/docs/storage/vercel-blob

\bibitem{jest2024}
Meta, ``Jest Testing Framework Documentation,'' 2024. [Online]. Available: https://jestjs.io/docs

\bibitem{playwright2024}
Microsoft, ``Playwright Documentation,'' 2024. [Online]. Available: https://playwright.dev/docs

\end{thebibliography}

% Appendix
\appendix
\chapter{API Endpoint Reference}

\begin{table}[htbp]
\centering
\caption{Complete API Endpoint List}
\begin{tabular}{|l|l|p{6cm}|}
\hline
\textbf{Method} & \textbf{Endpoint} & \textbf{Description} \\
\hline
POST & /api/generate/sprite & Generate sprite images \\
POST & /api/generate/scene & Generate scene backgrounds \\
POST & /api/generate/animation & Generate animation frames \\
GET & /api/generate/history & Get generation history \\
GET & /api/generate/asset/:id & Get single asset details \\
GET & /api/user/profile & Get user profile \\
PUT & /api/user/profile & Update user profile \\
POST & /api/user/credits/deduct & Deduct credits \\
POST & /api/user/credits/add & Add credits \\
GET & /api/projects & List user projects \\
POST & /api/projects & Create new project \\
GET & /api/projects/:id & Get project details \\
PUT & /api/projects/:id & Update project \\
DELETE & /api/projects/:id & Delete project \\
GET & /api/projects/:id/assets & Get project assets \\
\hline
\end{tabular}
\end{table}

\chapter{Environment Configuration}

\begin{lstlisting}[language=bash, caption={Required Environment Variables}]
# Firebase Configuration
FIREBASE_PROJECT_ID=your-project-id
FIREBASE_CLIENT_EMAIL=firebase-adminsdk@project.iam.gserviceaccount.com
FIREBASE_PRIVATE_KEY="-----BEGIN PRIVATE KEY-----\n...\n-----END PRIVATE KEY-----"

# Vercel Blob Storage
BLOB_READ_WRITE_TOKEN=vercel_blob_rw_xxxxx

# AI Provider Keys
REPLICATE_API_TOKEN=r8_xxxxx
REPLICATE_MODEL_ID=username/model-name:version
GEMINI_API_KEY=AIzaSyxxxxx

# Application Settings
NODE_ENV=production
PORT=3001
\end{lstlisting}

\end{document}